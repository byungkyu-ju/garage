# 1.JPA소개

## 1.1. SQL 중심적인 개발의 문제점

- 지금 시대는 객체를 RDB에 저장하여 관리
- 일반적으로 SQL을 통해 DB에 접근
  - 반복적인 코드생산
  - SQL에 의존적인 개발을 피하기 어려움
- 패러다임의 불일치
  - 객체 vs 관계형 데이터베이스
    - **객체를 관계형 데이터베이스에 저장하기위해서 개발자가 항상 객체를 만들고, SQL을 작성하는 작업을 해야함**
    - 차이
      - 상속
      - 연관관계
      - 데이터 타입
      - 데이터 식별방법
- 계층형 아키텍처, 계층분할이 어려움

## 1.2. JPA

- Java Persistence API
- Java 진영의 ORM(Object-relational mapping) 기술 표준
  - 객체는 객체대로 설계
  - RDB는 RDB대로 설계
  - ORM 프레임워크가 중간에서 매핑
  - 대중적인 언어에는 대부분 ORM이 존재
- JPA를 왜 사용해야하는가?
  - SQL 중심적인 개발에서 객체 중심으로 개발
  - 생산성
  - 유지보수
  - 패러다임의 불일치 해결
    - 객체간의 상속관계를 JPA가 자동으로 해결
    - 동일한 트랜젝션에서 조회한 엔티티는 같음을 보장
  - 성능
    - 1차 캐시와 동일성 보장
      - 같은 트랜잭션 안에서는 같은 앤티티를 반환(약간의 성능 향상)
    - 트랜잭션을 지원하는 쓰기 지연(커밋하는순간 한번에 SQL을 전송)
    - 지연로딩 : 객체가 실제 사용될 때 로딩
    - 즉시로딩 : JOIN SQL로 한번에 연관된 객체까지 미리 조회
  - 데이터 접근 추상화와 벤더 독립성
  - 표준
