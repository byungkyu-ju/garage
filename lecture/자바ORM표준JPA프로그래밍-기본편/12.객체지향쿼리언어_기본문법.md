# 12. 객체지향 쿼리언어 기본문법

- 다양한 쿼리방법
  - JPQL
    - 가장 단순환 조회방법
    - EntityManager.find()
    - 객체그래프 탐색(a.getB().getC())
    - JPA는 SQL을 추상화한 JPQL이라는 객체지향쿼리언어 제공
  - Criteria
  - QueryDSL
    - 문자가 아닌 자바코드로 JPQL 작성 가능
    - JPQL 빌더 역할
    - 단순하고 쉬움
    - 실무사용 권장
  - 네이티브 SQL

## 12.1. JPQL

- JPQL은 객체지향 쿼리언어다. 테이블을 대상으로 쿼리를 조회하는것이 아니라 엔티티객체를 대상으로 쿼리를 조회한다.
- JPQL은 SQL을 추상화해서 특정 DB SQL에 의존하지 않는다.
- JPQL은 결국 SQL로 변환한다.
- 문법에 별칭(m)은 필수
- TypedQuery : 반환타입이 명확할 때 사용
- Query 반환 타입이 명확하지 않을 때 사용

```code
TypedQuery<Member> query = entityManager.createQuery("select m from Member m", Member.class);
TypedQuery<String> query1 = entityManager.createQuery("select m.username from Member m", String.class);
Query query2 = entityManager.createQuery("select m.username from Member m");
```

- 결과조회
  - query.getResultList();
    - 결과가 없으면 빈 리스트 반환
  - query.getSingleResult();
    - 결과가 없거나, 2개이상의 값이면 Exception 발생
- 파라미터 바인딩

```code
TypedQuery<String> query1 = entityManager.createQuery("select m.username from Member m where m.username = :username", String.class);
query1.setParameter("username", "myName");
```
