# TDD, Refactoring, Clean Code 6기

## 3주차

좋은 문화를 가진 회사가 요구하는 역량
과거에는 application을 개발할 수 있는 역량만 있으면 채용을 했으나,  
현재는 질높은 개발자들을 채용하려고 많은 노력을 함(코딩테스트, 과제)

## 회사들이 요구하는 공통적인 역량  

- 다른사람이 읽기 좋은 클린코드 , 유지보수 하기 좋은 코드를 구현하는 능력
  - 현재 교육과정의 포커스
  - 교육 과정을 통해 최소한의 능력을 키움
  - 프로그래머로 살아가는 평생동안 도전해야 할 과제
  - 효과적인 연습방법을 학습하는 것이 더 중요함
- 팀원과 원활하게 소통하고, 팀워크를 만들어갈 수 있는 협업능력
  - 주니어일 때 좋은 문화를 가진 팀 속에서 일해보는 경험
  - 커뮤니티/스터디 활동을 통해 다른 사람과 소통하는 연습
- 자기주도적으로 문제를 해결하는 능력
  - 프로그래밍을 대하는 자세, 삶을 대하는 자세를 변화
  - 전문가로써 "나는 어떻게 일할 것인가?"에 대한 고민

3가지 역량 모두 기존의 학습 방식으로 키울 수 있는 역량이 아님.  
지금까지 가지고 있었던 직업,일,삶에 대한 선입견에 의구심을 가지고 접근해야 할 때.

## TDD, 리팩토링 연습 과정

### AS-IS

- 학습 테스트 - JUnit 사용법 및 단위 테스트 연습
- 단위 테스트 - 내가 구현한 코드에 대한 단위테스트
- TDD
  - 익숙해질 때 까지 같은 미션으로 반복 연습

### TO-BE 점진적으로 리팩토링 하기

- 점진적인 리팩토링이란?
  - 기존의 Test Case가 깨지지 않는 상태로 리팩토링하기
  - 컴파일 에러 발생을 최소화하면서 리팩토링하기
- 점진적인 리팩토링 - TDD에 대한 감이 생길 때 한번씩 도전
  - 1단계 - 메소드에 인자 타입이나 수, 반환 값이 변경되는 경우
  - 2단계 - 인스턴스 변수(필드)의 타입이 변경되는 경우

### 로또구현 리뷰

1. 기능목록 정의
2. TDD로 구현할 기능을 찾기  

- 구현 중간 부분을 자르는 연습을 해야 한다.  
- 구현 중간 부분을 자른다는 것은 로또 구현에 필요한 메소드를 찾는 과정이다.

3. 기능 설계 / 구현

- 객체 설계를 어떻게 해야할지 모르겠다면 시작은 Class method 구현으로 시작한 후 지속적인 리팩토링  
- 리팩토링 할때는 객체지향생활체조를 고려하면서 구현
- 리팩토링을 하면서 구코드와 신코드가 공존하는 단계가 필요하다.

- 인자가 많다면 인자를 묶는 객체를 만들어서 처리할 수 있다.
  - 클래스 생성
  - 생성자 추가
  - 기존 testcase를 바로 깨지게 만들지 말고, 동일한 method로 만든 다음 하나씩 바꾸어나감
- 1급 컬렉션 적용
  - test시 list와 생성자가 동일한지 체크하는 로직 고려
  - 상태를 가지는 객체는 equals와 hashcode를 선언해야함
  - 객체에 get을 써서 비교하는 로직같은 경우 객체에 메시지를 보냄
- 리팩토링은 배포가 가능할 정도로 개발한다음 배포
  - test 할 대상
    - 기본테스트 : size 확인, 로또생성되는지 확인, 에러체크

```code
    List<Integer> lottoNos = Arrays.asList(1,2,3,4,5);
    Lotto lotto = new Lotto(lottoNos);
    assertThat(lottoNos).isEqualTo(new Lotto(lottoNos));
```

4. 리팩토링

- 조합을 통한 구현(has-a 관계)

### Enum을 통한 값의 보장

```code
assertThat(winningLotto.match(userLotto)).isEqualTo(Rank.FIRST);
```

### 정적 팩토리 메서드의 활용

### 일급 클래스

### 원시값 포장

### 함수형 프로그래밍을 왜 배워야 하는가

- 동시성 이슈

  - 데이터의 상태를 변경하는 OOP에서 문제가 발생
  
- 데이터 관리에 따른 부담

  - 대용량 데이터를 처리할 때 데이터를 객체로 변환하는데 따른 부담이 크다.

- 함수형 프로그래밍은 모듈화되어있다.

- 더 빠르게 작업해야한다.

- 더 단순해진다.

- 함수형 프로그래밍을 학습하면 문제에 접근하는 방법, 문제를 작은 단위로 쪼개는 방법, 설계하는 과정, 프로그래밍하는 순서에서 새로운 시각을 배울 수 있다.